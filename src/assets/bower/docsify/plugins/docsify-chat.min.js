"use strict";(()=>{var p="0.4.2";var B="@media screen and (max-width: 768px){.controls{display:none !important}}.chat-panel{position:relative;border-radius:.5rem;margin:1rem auto;background-color:#f6f8fa;overflow:hidden}.chat-panel button{border:0;background:none;margin:0;padding:0;display:flex;align-items:center;justify-content:center}.chat-panel .title-bar{text-align:center}.chat-panel .title-bar.mac{display:flex;justify-content:center;padding:.9rem 1rem;width:100%}.chat-panel .title-bar.mac .title{font-weight:500;font-size:.9rem;line-height:.9rem;letter-spacing:.5px}.chat-panel .title-bar.mac .controls{position:absolute;top:1rem;left:1rem;display:grid;gap:.6rem;grid-template-columns:repeat(3, 0.8rem)}.chat-panel .title-bar.mac .controls svg{opacity:0}.chat-panel .title-bar.mac .controls:hover button{transform:scale(1.2)}.chat-panel .title-bar.mac .controls:hover svg{opacity:1}.chat-panel .title-bar.mac .controls .close{--bg-color: #ff5f56;--border-color: #e0443e}.chat-panel .title-bar.mac .controls .stretch{--bg-color: #27c93f;--border-color: #1aab29}.chat-panel .title-bar.mac .controls .stretch svg{transform:rotate(90deg)}.chat-panel .title-bar.mac .controls .minimize{--bg-color: #ffbd2e;--border-color: #dea123}.chat-panel .title-bar.mac .controls .circle{width:.8rem;height:.8rem;border-radius:50%;background-color:var(--bg-color);box-shadow:0 0 0 .5px var(--border-color);transition:transform .1s ease-in}.chat-panel .title-bar.windows{display:flex;flex-shrink:0;width:100%;height:28px;align-items:center;justify-content:center;position:relative;border-radius:6px 6px 0 0}.chat-panel .title-bar.windows .title{font-size:.8rem}.chat-panel .title-bar.windows .controls{height:100%;position:absolute;right:0;display:flex;align-items:center}.chat-panel .title-bar.windows .controls svg{width:12px;height:100%}.chat-panel .title-bar.windows .controls button{height:100%;padding:0 18px;transition:all ease-in-out 60ms}.chat-panel .title-bar.windows .controls button:hover{background:rgba(136,136,136,.2)}.chat-panel .title-bar.windows .controls button[class=close]:hover{background:rgba(255,0,0,.8)}.chat-panel .title-bar.windows .controls button[class=close]:hover svg{filter:invert(1)}.chat-panel .main-area{width:100%;min-height:auto}.chat-panel .main-area .chat-message{display:flex;position:relative;padding:1rem;opacity:0;transform:translate(-10%);transition:transform .4s ease-out,opacity .4s ease-in}.chat-panel .main-area .chat-message.myself{transform:translate(10%);justify-content:flex-end}.chat-panel .main-area .chat-message.myself .message-box{margin-left:0;margin-right:.5rem}.chat-panel .main-area .chat-message.myself .nickname{text-align:right}.chat-panel .main-area .chat-message.show{opacity:1;transform:translate(0)}.chat-panel .main-area .chat-message .avatar{width:2.5rem;height:2.5rem;overflow:hidden;flex-shrink:0;border-radius:50%;line-height:2.5rem;color:#fff;text-align:center}.chat-panel .main-area .chat-message .avatar img{display:inline-flex;line-height:0;justify-content:center;align-items:center;color:#fff}.chat-panel .main-area .chat-message .message-box{display:inline-block;margin-left:.5rem;max-width:90%;vertical-align:top}.chat-panel .main-area .chat-message .message-box .nickname{font-size:.8rem;color:gray}.chat-panel .main-area .chat-message .message-box .message{position:relative;font-size:.9rem;border-radius:.5rem;background-color:#fff;word-break:break-all;padding:.6rem .7rem;margin-top:.2rem;box-shadow:rgba(0,0,0,0) 0px 0px 0px 0px,rgba(0,0,0,0) 0px 0px 0px 0px,rgba(0,0,0,.05) 0px 1px 2px 0px}.chat-panel .main-area .chat-message .message-box .message .chat-text{min-height:1rem}.chat-panel .main-area .chat-message .message-box .message .chat-image{display:block;min-width:5rem;border-radius:.3rem;margin-bottom:.3rem}",f=document.createElement("style");f.textContent=B;document.head.appendChild(f);var b='<svg width="7" height="7" fill="none" xmlns="http://www.w3.org/2000/svg"><path stroke="#000" stroke-width="1.2" stroke-linecap="round"d="M1.182 5.99L5.99 1.182m0 4.95L1.182 1.323"></path></svg>';var w='<svg width="6" height="1" fill="none" xmlns="http://www.w3.org/2000/svg"><path stroke="#000" stroke-width="2" stroke-linecap="round" d="M.61.703h5.8" /></svg>';var u='<svgviewBox="0 0 13 13"xmlns="http://www.w3.org/2000/svg"fill-rule="evenodd"clip-rule="evenodd"stroke-linejoin="round"stroke-miterlimit="2"><path d="M4.871 3.553L9.37 8.098V3.553H4.871zm3.134 5.769L3.506 4.777v4.545h4.499z" /><circle cx="6.438" cy="6.438" r="6.438" fill="none" /></svg>';var v='<svgversion="1.0"xmlns="http://www.w3.org/2000/svg"width="512.000000pt"height="512.000000pt"viewBox="0 0 512.000000 512.000000"preserveAspectRatio="xMidYMid meet"><g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="#000000"stroke="none"><pathd="M900 4272 c-46 -23 -75 -79 -65 -130 6 -33 98 -129 778 -809 l772 -773 -772 -772 c-849 -851 -807 -802 -767 -885 25 -51 77 -78 129 -69 36 7 110 78 813 779 l772 772 773 -772 c702 -701 776 -772 812 -779 52 -9 104 18 129 69 40 83 82 34 -767 885 l-772 772 772 773 c680 680 772 776 778 809 15 82 -61 158 -143 143 -33 -6 -129 -98 -810 -778 l-772 -772 -768 767 c-428 428 -779 772 -795 777 -39 15 -56 14 -97 -7z" /></g></svg>';var x='<svgversion="1.0"xmlns="http://www.w3.org/2000/svg"width="512.000000pt"height="512.000000pt"viewBox="0 0 512.000000 512.000000"preserveAspectRatio="xMidYMid meet"><g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="#000000"stroke="none"><pathd="M724 2751 c-105 -64 -109 -209 -8 -272 l39 -24 1805 0 1805 0 35 22 c101 63 104 194 6 267 l-27 21 -1812 3 c-1761 2 -1813 1 -1843 -17z" /></g></svg>';var y='<svgversion="1.0"xmlns="http://www.w3.org/2000/svg"width="512.000000pt"height="512.000000pt"viewBox="0 0 512.000000 512.000000"preserveAspectRatio="xMidYMid meet"><g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="#000000"stroke="none"><pathd="M1100 4464 c-218 -47 -399 -229 -445 -449 -22 -105 -22 -2805 0 -2910 47 -222 228 -403 450 -450 105 -22 2805 -22 2910 0 222 47 403 228 450 450 22 105 22 2805 0 2910 -47 222 -228 403 -450 450 -102 21 -2815 21 -2915 -1z m2870 -315 c58 -18 130 -78 159 -134 l26 -50 3 -1385 c2 -1001 0 -1396 -9 -1426 -16 -60 -76 -133 -134 -163 l-50 -26 -1405 0 -1405 0 -50 26 c-58 30 -118 103 -134 163 -9 30 -11 425 -9 1426 l3 1385 26 50 c28 53 100 116 153 133 46 15 2776 16 2826 1z" /></g></svg>';var Y=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),$=/( *)(<!-+\s+chat:\s*?start\s+-+>)(?:(?!(<!-+\s+chat:\s*?(?:start|end)\s+-+>))[\s\S])*(<!-+\s+chat:\s*?end\s+-+>)/,h=/[\r\n]*(\s*)<!-+\s+title:\s*(.*)\s+-+>/,k=/[\r\n]*(\s*)#{1,6}\s*[*_]{2}\s*(.*[^\s])\s*[*_]{2}[\r\n]+([\s\S]*?)(?=#{1,6}\s*[*_]{2}|<!-+\s+chat:\s*?end\s+-+>)/m,o={animation:50,myself:null,os:Y?"mac":"windows",title:"\u804A\u5929\u8BB0\u5F55",users:[],version:p},c={mac:{close:b,minimize:w,stretch:u},windows:{close:v,minimize:x,stretch:y}};function K(s){let t=0,a="#";for(let n=0;n<s.length;n++)t=s.charCodeAt(n)+((t<<5)-t);for(let n=0;n<3;n++){let e=t>>n*8&255;a+=("00"+e.toString(16)).substr(-2)}return a}function W(s){let t=o.os,a="";switch(t){case"mac":a=`
        <button class="circle close">${c[t].close}</button>
        <button class="circle minimize">${c[t].minimize}</button>
        <button class="circle stretch"> ${c[t].stretch}</button>
      `;break;case"windows":a=`
        <button class="minimize">${c[t].minimize}</button>
        <button class="stretch"> ${c[t].stretch}</button>
        <button class="close">${c[t].close}</button>
      `;break;default:console.error(`os "${t}" is invalid argument`);break}return`
    <header class="title-bar ${t}">
      <div class="controls">${a}</div>
      <span class="title">${s}</span>
    </header>
  `}function G(s){let{avatar:t,nickname:a}=s;if(t)return`<div class="avatar"><img src="${t}"></div>`;{let n=K(a),e=a.substring(0,1);return`<div class="avatar" style="background-color: ${n};">${e}</div>`}}function V(s){let t=/!\[(.*?)\]\((.*?)\)/;return s.trim().split(`
`).map(e=>{if(t.test(e)){let r='<img class="chat-image" src="$2" alt="$1" />';return e.replace(t,r)}else{let r=`<div class="chat-text">${e}</div>`;return e.replace(e,r)}}).join(`
`)}function q(s,t){let a,n;for(;a=$.exec(s);){let e=a[0],i=o.title,r="",l="",C=h.test(e),M=k.test(e);C&&(i=h.exec(e)[2],e=e.replace(h,""));let _=W(i);if(M)for(r=`<section class="chat-panel">${_}<main class="main-area">`,l="</main></section>";n=k.exec(e);){let m=n[2],A=V(n[3]),j=o.users.find(L=>L.nickname===m)??{nickname:m},d=o.myself===m,P=G(j),T=`
          <div class="chat-message ${d?"myself":""}">
            $1
            <div class="message-box">
              <div class="nickname">${m}</div>
              <div class="message">${A}</div>
            </div>
            $2
          </div>
        `,g=d?["$2","$1"]:["$1","$2"],I=T.replace(g[0],P).replace(g[1],"");e=e.replace(n[0],I)}let z=a[2],E=a[4];e=e.replace(z,r),e=e.replace(E,l),e=e.replace(/(\s{2,}|\n)/g,""),s=s.replace(a[0],e)}return s}function F(){return new ResizeObserver(s=>{s.forEach(t=>{let{target:a}=t,{offsetWidth:n}=a,e=a.getElementsByClassName("chat-image");for(let i=0;i<e.length;i++){let r=e[i];r.style.maxWidth=`calc((${n}px - 5rem) / 2)`}})})}function J(){return new IntersectionObserver(s=>{s.forEach(t=>{let{target:a,isIntersecting:n}=t,e=a.getElementsByClassName("chat-message");for(let i=0;i<e.length;i++){let r=e[i];n?setTimeout(()=>r.classList.add("show"),i*o.animation):r.classList.remove("show")}})})}function Q(s,t){let a,n=F(),e=J();s.beforeEach(i=>(a=$.test(i),a&&(i=q(i,t)),i)),s.doneEach(()=>{if(n.disconnect(),e.disconnect(),!a)return;let i=document.getElementsByClassName("chat-panel");for(let r=0;r<i.length;r++){let l=i[r];n.observe(l),e.observe(l)}})}if(window){window.$docsify??={},window.$docsify.chat??={};for(let s in window.$docsify.chat)Object.prototype.hasOwnProperty.call(o,s)&&(o[s]=window.$docsify.chat[s]);window.$docsify.plugins??=[],window.$docsify.plugins=[Q,...window.$docsify.plugins]}})();
